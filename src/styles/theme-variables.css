
@layer base {
  :root {
    --background: 220 100% 98%;
    --foreground: 224 71.4% 4.1%;
    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;
    --primary: 262.1 83.3% 57.8%;
    --primary-foreground: 210 20% 98%;
    --secondary: 220 14.3% 95.9%;
    --secondary-foreground: 220.9 39.3% 11%;
    --muted: 220 14.3% 95.9%;
    --muted-foreground: 220 8.9% 46.1%;
    --accent: 220 14.3% 95.9%;
    --accent-foreground: 220.9 39.3% 11%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 20% 98%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 262.1 83.3% 57.8%;
    --radius: 0.75rem;
    --theme-transition: 0.3s ease-out;
  }
 
  .dark {
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;
    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;
    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;
    --primary: 263.4 70% 50.4%;
    --primary-foreground: 210 20% 98%;
    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;
    --muted: 215 27.9% 16.9%;
    --muted-foreground: 217.9 10.6% 64.9%;
    --accent: 215 27.9% 16.9%;
    --accent-foreground: 210 20% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;
    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 263.4 70% 50.4%;
  }
}

/* Dynamic Theme Variables */
@layer base {
  /* Base Dynamic Theme - Light version */
  .dynamic {
    /* Base gradients */
    --gradient-primary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    --gradient-secondary: linear-gradient(135deg, #3b82f6 0%, #2dd4bf 100%);
    --gradient-accent: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
    
    /* Light mode dynamic enhancements */
    --gradient-background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, rgba(99, 102, 241, 0.05) 100%);
    --gradient-surface: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.9));
    --gradient-border: linear-gradient(135deg, rgba(99, 102, 241, 0.3), rgba(139, 92, 246, 0.3));
    
    /* Enhanced contrast variables for Light mode */
    --dynamic-text: hsl(224, 71.4%, 4.1%);
    --dynamic-text-muted: hsl(224, 20%, 30%);
    --dynamic-bg: hsl(220, 100%, 98%);
    --dynamic-bg-hover: hsl(220, 100%, 96%);
    --dynamic-border: hsl(220, 15%, 85%);
    --dynamic-card: hsl(0, 0%, 100%);
    --dynamic-card-hover: hsl(220, 14%, 97%);
    --dynamic-accent: hsl(262.1, 83.3%, 57.8%);
    
    /* High contrast focus states */
    --focus-ring: 0 0 0 2px hsl(262.1, 83.3%, 57.8%), 0 0 0 4px rgba(99, 102, 241, 0.3);
  }

  /* Dynamic Theme - Dark version */
  .dynamic.dark {
    /* Dark mode gradients */
    --gradient-primary: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
    --gradient-secondary: linear-gradient(135deg, #2dd4bf 0%, #3b82f6 100%);
    --gradient-accent: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
    
    /* Dark mode dynamic enhancements */
    --gradient-background: linear-gradient(135deg, rgba(139, 92, 246, 0.12) 0%, rgba(99, 102, 241, 0.12) 100%);
    --gradient-surface: linear-gradient(135deg, rgba(30, 30, 45, 0.95), rgba(23, 23, 35, 0.9));
    --gradient-border: linear-gradient(135deg, rgba(99, 102, 241, 0.4), rgba(139, 92, 246, 0.4));
    
    /* Enhanced contrast variables for Dark mode */
    --dynamic-text: hsl(210, 20%, 98%);
    --dynamic-text-muted: hsl(217.9, 10.6%, 75%);
    --dynamic-bg: hsl(224, 71.4%, 6%);
    --dynamic-bg-hover: hsl(224, 71.4%, 8%);
    --dynamic-border: hsl(215, 27.9%, 25%);
    --dynamic-card: hsl(224, 71.4%, 7%);
    --dynamic-card-hover: hsl(224, 71.4%, 9%);
    --dynamic-accent: hsl(263.4, 70%, 60%);
    
    /* High contrast focus states */
    --focus-ring: 0 0 0 2px hsl(263.4, 70%, 50.4%), 0 0 0 4px rgba(139, 92, 246, 0.4);
  }

  /* High Contrast Mode Variables */
  .high-contrast {
    /* Text contrast improvements */
    --foreground: 0 0% 0%;
    --muted-foreground: 0 0% 20%; 
    --primary: 263.4 85% 45%;
    --primary-foreground: 0 0% 100%;
    --accent-foreground: 263.4 85% 45%;
    --border: 0 0% 40%;
    --ring: 263.4 85% 45%;
  }

  .dark.high-contrast {
    --foreground: 0 0% 100%;
    --muted-foreground: 0 0% 80%;
    --primary: 263.4 85% 65%;
    --primary-foreground: 0 0% 0%;
    --accent-foreground: 263.4 85% 65%;
    --border: 0 0% 70%;
    --ring: 263.4 85% 65%;
  }

  /* Combined classes for Dynamic + High Contrast */
  .dynamic.high-contrast {
    --gradient-primary: linear-gradient(135deg, #5850EC 0%, #7E3AF2 100%);
    --focus-ring: 0 0 0 3px hsl(262.1, 83.3%, 57.8%), 0 0 0 5px rgba(99, 102, 241, 0.5);
  }

  .dynamic.dark.high-contrast {
    --gradient-primary: linear-gradient(135deg, #9F7AEA 0%, #805AD5 100%);
    --focus-ring: 0 0 0 3px hsl(263.4, 70%, 65%), 0 0 0 5px rgba(139, 92, 246, 0.6);
  }

  /* CSS Variables for popover components with improved contrast */
  .dynamic .popover-content,
  .dynamic .dropdown-content,
  .dynamic .select-content,
  .dynamic .dialog-content,
  .dynamic .hover-card-content {
    background-color: var(--dynamic-card);
    border-color: var(--dynamic-border);
    color: var(--dynamic-text);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
  }
  
  .dynamic.dark .popover-content,
  .dynamic.dark .dropdown-content,
  .dynamic.dark .select-content,
  .dynamic.dark .dialog-content,
  .dynamic.dark .hover-card-content {
    background-color: var(--dynamic-card);
    border-color: var(--dynamic-border);
    color: var(--dynamic-text);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
  }

  /* High contrast popovers and dropdowns */
  .high-contrast .popover-content,
  .high-contrast .dropdown-content,
  .high-contrast .select-content,
  .high-contrast .dialog-content,
  .high-contrast .hover-card-content {
    border-width: 2px;
  }

  /* Focus handling for high contrast mode */
  .high-contrast :focus-visible {
    outline: 3px solid var(--ring);
    outline-offset: 2px;
  }
}
